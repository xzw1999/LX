(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order_pay_status-index"],{"2a1b":function(e,t,n){"use strict";n.r(t);var r=n("6a66"),i=n("50c4b");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("dd71");var a,s=n("f0c5"),u=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"006ee08b",null,!1,r["a"],a);t["default"]=u.exports},"50c4b":function(e,t,n){"use strict";n.r(t);var r=n("f988"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"6a66":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"payment-status"},[e.order_pay_info.paid||"offline"==e.order_pay_info.pay_type?n("v-uni-view",{staticClass:"iconfont icons icon-duihao2 bg-color"}):n("v-uni-view",{staticClass:"iconfont icons icon-iconfontguanbi bg-color"}),"offline"!=e.order_pay_info.pay_type?n("v-uni-view",{staticClass:"status"},[e._v(e._s(e.order_pay_info.paid?"订单支付成功":"订单支付失败"))]):n("v-uni-view",{staticClass:"status"},[e._v("订单创建成功")]),n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[e._v("订单编号")]),n("v-uni-view",{staticClass:"itemCom"},[e._v(e._s(e.orderId))])],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[e._v("下单时间")]),n("v-uni-view",{staticClass:"itemCom"},[e._v(e._s(e.order_pay_info._pay_time))])],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[e._v("支付方式")]),n("v-uni-view",{staticClass:"itemCom"},[e._v(e._s(e.order_pay_info._status._payType))])],1),n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[e._v("支付金额")]),n("v-uni-view",{staticClass:"itemCom"},[e._v(e._s(e.order_pay_info.pay_price))])],1),0==e.order_pay_info.paid&&"offline"!=e.order_pay_info.pay_type?n("v-uni-view",{staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",[e._v("失败原因")]),n("v-uni-view",{staticClass:"itemCom"},[e._v(e._s(2==e.status?"取消支付":e.msg))])],1):e._e()],1),0==e.status?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goOrderDetails.apply(void 0,arguments)}}},[n("v-uni-button",{staticClass:"returnBnt bg-color",attrs:{formType:"submit","hover-class":"none"}},[e._v("查看订单")])],1):e._e(),0==e.order_pay_info.paid&&1==e.status?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goOrderDetails.apply(void 0,arguments)}}},[n("v-uni-button",{staticClass:"returnBnt bg-color",attrs:{"hover-class":"none"}},[e._v("重新购买")])],1):e._e(),0==e.order_pay_info.paid&&2==e.status?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goOrderDetails.apply(void 0,arguments)}}},[n("v-uni-button",{staticClass:"returnBnt bg-color",attrs:{"hover-class":"none"}},[e._v("重新支付")])],1):e._e(),e.order_pay_info.pink_id&&0!=e.order_pay_info.paid&&2!=e.status&&1!=e.status?n("v-uni-button",{staticClass:"returnBnt cart-color",attrs:{formType:"submit","hover-class":"none"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goPink(e.order_pay_info.pink_id)}}},[e._v("邀请好友参团")]):n("v-uni-button",{staticClass:"returnBnt cart-color",attrs:{formType:"submit","hover-class":"none"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goIndex.apply(void 0,arguments)}}},[e._v("返回首页")]),e.couponList.length?n("v-uni-view",{staticClass:"coupons"},[n("v-uni-view",{staticClass:"title acea-row row-center-wrapper"},[n("v-uni-view",{staticClass:"line"}),n("v-uni-view",{staticClass:"name"},[e._v("赠送优惠券")]),n("v-uni-view",{staticClass:"line"})],1),n("v-uni-view",{staticClass:"list"},[e._l(e.couponList,(function(t,r){return r<2||!e.couponsHidden?n("v-uni-view",{key:r,staticClass:"item acea-row row-between-wrapper"},[n("v-uni-view",{staticClass:"price acea-row row-center-wrapper"},[n("v-uni-view",[e._v("￥"),n("v-uni-text",[e._v(e._s(t.coupon_price))])],1)],1),n("v-uni-view",{staticClass:"text"},[n("v-uni-view",{staticClass:"name line1"},[e._v(e._s(t.coupon_title))]),n("v-uni-view",{staticClass:"priceMin"},[e._v("满"+e._s(t.use_min_price)+"元可用")]),n("v-uni-view",{staticClass:"time"},[e._v("有效期:"+e._s(t.add_time?t.add_time+"-":"")+e._s(t.end_time))])],1)],1):e._e()})),n("v-uni-view",{staticClass:"open acea-row row-center-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openTap.apply(void 0,arguments)}}},[e._v(e._s(e.couponsHidden?"展开更多":"关闭展开")),n("v-uni-text",{staticClass:"iconfont",class:1==e.couponsHidden?"icon-xiangxia":"icon-xiangshang"})],1)],2)],1):e._e()],1)],1)},o=[]},"7aac":function(e,t,n){"use strict";n("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.auth=i,t.openPaySubscribe=o,t.openOrderSubscribe=a,t.openExtrctSubscribe=s,t.openPinkSubscribe=u,t.openBargainSubscribe=c,t.openOrderRefundSubscribe=d,t.openRechargeSubscribe=p,t.openEextractSubscribe=f,t.subscribe=l;var r=n("5881");function i(){var e={},t=uni.getStorageSync(r.SUBSCRIBE_MESSAGE);return e=t?JSON.parse(t):{},e}function o(){var e=i();return l([e.oreder_takever,e.order_pay_success,e.order_new])}function a(){var e=i();return l([e.order_deliver_success,e.order_postage_success,e.order_clone])}function s(){var e=i();return l([e.user_extract])}function u(){var e=i();return l([e.pink_true])}function c(){var e=i();return l([e.bargain_success])}function d(){var e=i();return l([e.order_refund])}function p(){var e=i();return l([e.recharge_success])}function f(){var e=i();return l([e.user_extract])}function l(e){var t=wx;return new Promise((function(n,r){t.requestSubscribeMessage({tmplIds:e,success:function(e){return n(e)},fail:function(e){return n(e)}})}))}},a7be:function(e,t,n){var r=n("ef8c");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("5610a501",r,!0,{sourceMap:!1,shadowMode:!1})},dd71:function(e,t,n){"use strict";var r=n("a7be"),i=n.n(r);i.a},ee4b:function(e,t,n){"use strict";var r=n("4ea4");n("a15b"),Object.defineProperty(t,"__esModule",{value:!0}),t.getCartCounts=o,t.getCartList=a,t.getResetCart=s,t.changeCartNum=u,t.cartDel=c,t.getOrderList=d,t.orderProduct=p,t.orderComment=f,t.orderPay=l,t.orderData=v,t.orderCancel=_,t.orderDel=b,t.getOrderDetail=g,t.orderAgain=w,t.orderTake=m,t.express=h,t.ordeRefundReason=y,t.orderRefundVerify=C,t.orderConfirm=x,t.getCouponsOrderPrice=k,t.orderCreate=O,t.postOrderComputed=I,t.orderCoupon=P,t.offlineCheckPrice=S,t.offlineCreate=L,t.orderOfflinePayType=T,t.orderInvoiceList=z,t.orderInvoiceDetail=E,t.aliPay=B;var i=r(n("0e3b"));function o(e){return i.default.get("cart/count",{numType:void 0===e?0:e})}function a(e){return i.default.get("cart/list",e)}function s(e){return i.default.post("v2/reset_cart",e)}function u(e,t){return i.default.post("cart/num",{id:e,number:t})}function c(e){return"object"===typeof e&&(e=e.join(",")),i.default.post("cart/del",{ids:e})}function d(e){return i.default.get("order/list",e)}function p(e){return i.default.post("order/product",{unique:e})}function f(e){return i.default.post("order/comment",e)}function l(e){return i.default.post("order/pay",e)}function v(){return i.default.get("order/data")}function _(e){return i.default.post("order/cancel",{id:e})}function b(e){return i.default.post("order/del",{uni:e})}function g(e){return i.default.get("order/detail/"+e)}function w(e){return i.default.post("order/again",{uni:e})}function m(e){return i.default.post("order/take",{uni:e})}function h(e){return i.default.get("order/express/"+e)}function y(){return i.default.get("order/refund/reason")}function C(e){return i.default.post("order/refund/verify",e)}function x(e,t){return i.default.post("order/confirm",{cartId:e,new:t})}function k(e,t){return i.default.get("coupons/order/"+e,t)}function O(e,t){return i.default.post("order/create/"+e,t)}function I(e,t){return i.default.post("order/computed/"+e,t)}function P(e){return i.default.post("v2/order/product_coupon/"+e)}function S(e){return i.default.post("order/offline/check/price",e)}function L(e){return i.default.post("order/offline/create",e)}function T(){return i.default.get("order/offline/pay/type")}function z(e){return i.default.get("v2/order/invoice_list",e)}function E(e){return i.default.get("v2/order/invoice_detail/".concat(e))}function B(e,t){return i.default.get("ali_pay",{key:e,quitUrl:t},{noAuth:!0})}},ef8c:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.coupons .title[data-v-006ee08b]{margin:%?30?% 0 %?25?% 0}.coupons .title .line[data-v-006ee08b]{width:%?70?%;height:1px;background:#dcdcdc}.coupons .title .name[data-v-006ee08b]{font-size:%?24?%;color:#999;margin:0 %?10?%}.coupons .list[data-v-006ee08b]{padding:0 %?20?%}.coupons .list .item[data-v-006ee08b]{margin-bottom:%?20?%;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,.06);box-shadow:0 2px 10px 0 rgba(0,0,0,.06)}.coupons .list .item .price[data-v-006ee08b]{width:%?236?%;height:%?160?%;font-size:%?26?%;color:#fff;font-weight:800}.coupons .list .item .price uni-text[data-v-006ee08b]{font-size:%?64?%}.coupons .list .item .text[data-v-006ee08b]{width:%?385?%}.coupons .list .item .text .name[data-v-006ee08b]{font-size:#282828;font-size:%?30?%}.coupons .list .item .text .priceMin[data-v-006ee08b]{font-size:%?24?%;color:#999;margin-top:%?10?%}.coupons .list .item .text .time[data-v-006ee08b]{font-size:%?24?%;color:#999;margin-top:%?15?%}.coupons .list .open[data-v-006ee08b]{font-size:%?24?%;color:#999;margin-top:%?30?%}.coupons .list .open .iconfont[data-v-006ee08b]{font-size:%?25?%;margin:%?5?% 0 0 %?10?%}.payment-status[data-v-006ee08b]{background-color:#fff;margin:%?195?% %?30?% 0 %?30?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;padding:%?1?% 0 %?28?% 0}.payment-status .icons[data-v-006ee08b]{font-size:%?70?%;width:%?140?%;height:%?140?%;-webkit-border-radius:50%;border-radius:50%;color:#fff;text-align:center;line-height:%?140?%;text-shadow:0 4px 0 #df1e14;border:%?6?% solid #f5f5f5;margin:%?-76?% auto 0 auto;background-color:#999}.payment-status .iconfont.fail[data-v-006ee08b]{text-shadow:0 4px 0 #7a7a7a}.payment-status .status[data-v-006ee08b]{font-size:%?32?%;font-weight:700;text-align:center;margin:%?25?% 0 %?37?% 0}.payment-status .wrapper[data-v-006ee08b]{border:%?1?% solid #eee;margin:0 %?30?% %?47?% %?30?%;padding:%?35?% 0;border-left:0;border-right:0}.payment-status .wrapper .item[data-v-006ee08b]{font-size:%?28?%;color:#282828}.payment-status .wrapper .item ~ .item[data-v-006ee08b]{margin-top:%?20?%}.payment-status .wrapper .item .itemCom[data-v-006ee08b]{color:#666}.payment-status .returnBnt[data-v-006ee08b]{width:%?630?%;height:%?86?%;-webkit-border-radius:%?50?%;border-radius:%?50?%;color:#fff;font-size:%?30?%;text-align:center;line-height:%?86?%;margin:0 auto %?20?% auto}',""]),e.exports=t},f988:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("ee4b"),i=(n("7aac"),n("dac6")),o=n("2f62"),a={components:{},data:function(){return{orderId:"",order_pay_info:{paid:1,_status:{}},isAuto:!1,isShowAuth:!1,status:0,msg:"",couponsHidden:!0,couponList:[]}},computed:(0,o.mapGetters)(["isLogin"]),watch:{isLogin:{handler:function(e,t){e&&this.getOrderPayInfo()},deep:!0}},onLoad:function(e){if(!e.order_id)return this.$util.Tips({title:"缺少参数无法查看订单支付状态"},{tab:3,url:1});this.orderId=e.order_id,this.status=e.status||0,this.msg=e.msg||"",this.isLogin?this.getOrderPayInfo():(0,i.toLogin)()},methods:{openTap:function(){this.$set(this,"couponsHidden",!this.couponsHidden)},onLoadFun:function(){this.getOrderPayInfo()},getOrderPayInfo:function(){var e=this;uni.showLoading({title:"正在加载中"}),(0,r.getOrderDetail)(e.orderId).then((function(t){uni.hideLoading(),e.$set(e,"order_pay_info",t.data),uni.setNavigationBarTitle({title:t.data.paid?"支付成功":"支付失败"}),e.getOrderCoupon()})).catch((function(e){uni.hideLoading()}))},getOrderCoupon:function(){var e=this;e.orderId,(0,r.orderCoupon)(e.orderId).then((function(t){t.data,e.couponList=t.data}))},goIndex:function(e){uni.navigateTo({url:"/pages/index/index"})},goPink:function(e){uni.navigateTo({url:"/pages/activity/goods_combination_status/index?id="+e})},goOrderDetails:function(e){var t=this;uni.navigateTo({url:"/pages/users/order_details/index?order_id="+t.orderId})}}};t.default=a}).call(this,n("5a52")["default"])}}]);